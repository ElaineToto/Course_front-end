(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/goods"],{"095b":function(t,s,e){},1148:function(t,s,e){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var e={data:function(){return{beforeHeaderzIndex:11,afterHeaderzIndex:10,beforeHeaderOpacity:1,afterHeaderOpacity:0,swiperList:[{id:1,img:"https://ae01.alicdn.com/kf/HTB1Mj7iTmzqK1RjSZFjq6zlCFXaP.jpg"},{id:2,img:"https://ae01.alicdn.com/kf/HTB1fbseTmzqK1RjSZFLq6An2XXaL.jpg"},{id:3,img:"https://ae01.alicdn.com/kf/HTB1dPUMThnaK1RjSZFtq6zC2VXa0.jpg"},{id:4,img:"https://ae01.alicdn.com/kf/HTB1OHZrTXzqK1RjSZFvq6AB7VXaw.jpg"}],currentSwiper:0,anchorlist:[],selectAnchor:0,serviceClass:"",specClass:"",shareClass:"",goodsData:{id:1,name:"商品标题商品标题商品标题商品标题商品标题商品标题商品标题商品标题商品标题",price:"127.00",number:1,service:[{name:"正品保证",description:"此商品官方保证为正品"},{name:"极速退款",description:"此商品享受退货极速退款服务"},{name:"7天退换",description:"此商品享受7天无理由退换服务"}],spec:["XS","S","M","L","XL","XXL"],comment:{number:102,userface:"../../static/img/face.jpg",username:"大黑哥",content:"很不错，之前买了很多次了，很好看，能放很久，和图片色差不大，值得购买！"}},selectSpec:null,isKeep:!1,descriptionStr:'<div style="text-align:center;"><img width="100%" src="https://ae01.alicdn.com/kf/HTB1t0fUl_Zmx1VjSZFGq6yx2XXa5.jpg"/><img width="100%" src="https://ae01.alicdn.com/kf/HTB1LzkjThTpK1RjSZFKq6y2wXXaT.jpg"/><img width="100%" src="https://ae01.alicdn.com/kf/HTB18dkiTbvpK1RjSZPiq6zmwXXa8.jpg"/></div>'}},onLoad:function(t){this.showBack=!1,console.log(t.cid)},onReady:function(){this.calcAnchor()},onPageScroll:function(t){this.selectAnchor=t.scrollTop>=this.anchorlist[2].top?2:t.scrollTop>=this.anchorlist[1].top?1:0;var s=375;t.scrollTop=t.scrollTop>s?375:t.scrollTop,this.afterHeaderOpacity=t.scrollTop*(1/s),this.beforeHeaderOpacity=1-this.afterHeaderOpacity,this.beforeHeaderzIndex=t.scrollTop>0?10:11,this.afterHeaderzIndex=t.scrollTop>0?11:10},onReachBottom:function(){t.showToast({title:"触发上拉加载"})},mounted:function(){},methods:{swiperChange:function(t){this.currentSwiper=t.detail.current},toMsg:function(){t.navigateTo({url:"../msg/msg"})},toChat:function(){t.navigateTo({url:"../msg/chat/chat?name=客服008"})},share:function(){this.shareClass="show"},hideShare:function(){var t=this;this.shareClass="hide",setTimeout(function(){t.shareClass="none"},150)},keep:function(){this.isKeep=!this.isKeep},joinCart:function(){if(null==this.selectSpec)return this.showSpec(function(){t.showToast({title:"已加入购物车"})});t.showToast({title:"已加入购物车"})},buy:function(){var t=this;if(null==this.selectSpec)return this.showSpec(function(){t.toConfirmation()});this.toConfirmation()},toRatings:function(){t.navigateTo({url:"ratings/ratings"})},toConfirmation:function(){var s=[],e={id:this.goodsData.id,img:"../../static/img/goods/p1.jpg",name:this.goodsData.name,spec:"规格:"+this.goodsData.spec[this.selectSpec],price:this.goodsData.price,number:this.goodsData.number};s.push(e),t.setStorage({key:"buylist",data:s,success:function(){t.navigateTo({url:"../order/confirmation"})}})},showComments:function(t){},setSelectSpec:function(t){this.selectSpec=t},sub:function(){this.goodsData.number<=1||this.goodsData.number--},add:function(){this.goodsData.number++},toAnchor:function(s){this.selectAnchor=s,t.pageScrollTo({scrollTop:this.anchorlist[s].top,duration:200})},calcAnchor:function(){var s=this;this.anchorlist=[{name:"主图",top:0},{name:"评价",top:0},{name:"详情",top:0}];var e=t.createSelectorQuery().select("#comments");e.boundingClientRect(function(e){var a=0,i=t.upx2px(100);s.anchorlist[1].top=e.top-i-a,s.anchorlist[2].top=e.bottom-i-a}).exec()},back:function(){t.navigateBack()},showService:function(){console.log("show"),this.serviceClass="show"},hideService:function(){var t=this;this.serviceClass="hide",setTimeout(function(){t.serviceClass="none"},200)},showSpec:function(t){console.log("show"),this.specClass="show",this.specCallback=t},specCallback:function(){},hideSpec:function(){var t=this;this.specClass="hide",this.selectSpec&&this.specCallback&&this.specCallback(),this.specCallback=!1,setTimeout(function(){t.specClass="none"},200)},discard:function(){}}};s.default=e}).call(this,e("543d")["default"])},"1a34":function(t,s,e){"use strict";e.r(s);var a=e("e02c"),i=e("70a5");for(var n in i)"default"!==n&&function(t){e.d(s,t,function(){return i[t]})}(n);e("7b2e");var o=e("2877"),c=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,null,null);s["default"]=c.exports},"70a5":function(t,s,e){"use strict";e.r(s);var a=e("1148"),i=e.n(a);for(var n in a)"default"!==n&&function(t){e.d(s,t,function(){return a[t]})}(n);s["default"]=i.a},"7b2e":function(t,s,e){"use strict";var a=e("095b"),i=e.n(a);i.a},"96b2":function(t,s,e){"use strict";e("6123");var a=n(e("b0ce")),i=n(e("1a34"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(i.default))},e02c:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",[e("view",{staticClass:"status",style:{opacity:t.afterHeaderOpacity}}),e("view",{staticClass:"header"},[e("view",{staticClass:"before",style:{opacity:1-t.afterHeaderOpacity,zIndex:t.beforeHeaderzIndex}},[e("view",{staticClass:"back"},[t.showBack?e("view",{staticClass:"icon xiangqian",attrs:{eventid:"38255d22-0"},on:{tap:t.back}}):t._e()]),e("view",{staticClass:"middle"}),e("view",{staticClass:"icon-btn"},[e("view",{staticClass:"icon tongzhi",attrs:{eventid:"38255d22-1"},on:{tap:t.toMsg}}),e("view",{staticClass:"icon cart",attrs:{eventid:"38255d22-2"},on:{tap:t.joinCart}})])]),e("view",{staticClass:"after",style:{opacity:t.afterHeaderOpacity,zIndex:t.afterHeaderzIndex}},[e("view",{staticClass:"back"},[t.showBack?e("view",{staticClass:"icon xiangqian",attrs:{eventid:"38255d22-3"},on:{tap:t.back}}):t._e()]),e("view",{staticClass:"middle"},t._l(t.anchorlist,function(s,a){return e("view",{key:a,class:[t.selectAnchor==a?"on":""],attrs:{eventid:"38255d22-4-"+a},on:{tap:function(s){t.toAnchor(a)}}},[t._v(t._s(s.name))])})),e("view",{staticClass:"icon-btn"},[e("view",{staticClass:"icon tongzhi",attrs:{eventid:"38255d22-5"},on:{tap:t.toMsg}}),e("view",{staticClass:"icon cart",attrs:{eventid:"38255d22-6"},on:{tap:t.joinCart}})])])]),e("view",{staticClass:"footer"},[e("view",{staticClass:"icons"},[e("view",{staticClass:"box",attrs:{eventid:"38255d22-7"},on:{tap:t.share}},[e("view",{staticClass:"icon fenxiang"}),e("view",{staticClass:"text"},[t._v("分享")])]),e("view",{staticClass:"box",attrs:{eventid:"38255d22-8"},on:{tap:t.toChat}},[e("view",{staticClass:"icon kefu"}),e("view",{staticClass:"text"},[t._v("客服")])]),e("view",{staticClass:"box",attrs:{eventid:"38255d22-9"},on:{tap:t.keep}},[e("view",{staticClass:"icon",class:[t.isKeep?"shoucangsel":"shoucang"]}),e("view",{staticClass:"text"},[t._v(t._s(t.isKeep?"已":"")+"收藏")])])]),e("view",{staticClass:"btn"},[e("view",{staticClass:"joinCart",attrs:{eventid:"38255d22-10"},on:{tap:t.joinCart}},[t._v("加入购物车")]),e("view",{staticClass:"buy",attrs:{eventid:"38255d22-11"},on:{tap:t.buy}},[t._v("立即购买")])])]),e("view",{staticClass:"share",class:t.shareClass,attrs:{eventid:"38255d22-14"},on:{touchmove:function(s){s.stopPropagation(),s.preventDefault(),t.discard(s)},tap:t.hideShare}},[e("view",{staticClass:"mask"}),e("view",{staticClass:"layer",attrs:{eventid:"38255d22-13"},on:{tap:function(s){s.stopPropagation(),t.discard(s)}}},[e("view",{staticClass:"h1"},[t._v("分享")]),t._m(0),e("view",{staticClass:"btn",attrs:{eventid:"38255d22-12"},on:{tap:t.hideShare}},[t._v("取消")])])]),e("view",{staticClass:"popup service",class:t.serviceClass,attrs:{eventid:"38255d22-17"},on:{touchmove:function(s){s.stopPropagation(),s.preventDefault(),t.discard(s)},tap:t.hideService}},[e("view",{staticClass:"mask"}),e("view",{staticClass:"layer",attrs:{eventid:"38255d22-16"},on:{tap:function(s){s.stopPropagation(),t.discard(s)}}},[e("view",{staticClass:"content"},t._l(t.goodsData.service,function(s,a){return e("view",{key:a,staticClass:"row"},[e("view",{staticClass:"title"},[t._v(t._s(s.name))]),e("view",{staticClass:"description"},[t._v(t._s(s.description))])])})),e("view",{staticClass:"btn"},[e("view",{staticClass:"button",attrs:{eventid:"38255d22-15"},on:{tap:t.hideService}},[t._v("完成")])])])]),e("view",{staticClass:"popup spec",class:t.specClass,attrs:{eventid:"38255d22-25"},on:{touchmove:function(s){s.stopPropagation(),s.preventDefault(),t.discard(s)},tap:t.hideSpec}},[e("view",{staticClass:"mask"}),e("view",{staticClass:"layer",attrs:{eventid:"38255d22-24"},on:{tap:function(s){s.stopPropagation(),t.discard(s)}}},[e("view",{staticClass:"content"},[e("view",{staticClass:"title"},[t._v("选择规格：")]),e("view",{staticClass:"sp"},t._l(t.goodsData.spec,function(s,a){return e("view",{key:a,class:[a==t.selectSpec?"on":""],attrs:{eventid:"38255d22-18-"+a},on:{tap:function(s){t.setSelectSpec(a)}}},[t._v(t._s(s))])})),null!=t.selectSpec?e("view",{staticClass:"length"},[e("view",{staticClass:"text"},[t._v("数量")]),e("view",{staticClass:"number"},[e("view",{staticClass:"sub",attrs:{eventid:"38255d22-19"},on:{tap:function(s){s.stopPropagation(),t.sub(s)}}},[e("view",{staticClass:"icon jian"})]),e("view",{staticClass:"input",attrs:{eventid:"38255d22-21"},on:{tap:function(s){s.stopPropagation(),t.discard(s)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.goodsData.number,expression:"goodsData.number"}],attrs:{type:"number",eventid:"38255d22-20"},domProps:{value:t.goodsData.number},on:{input:function(s){s.target.composing||(t.goodsData.number=s.target.value)}}})]),e("view",{staticClass:"add",attrs:{eventid:"38255d22-22"},on:{tap:function(s){s.stopPropagation(),t.add(s)}}},[e("view",{staticClass:"icon jia"})])])]):t._e()]),e("view",{staticClass:"btn"},[e("view",{staticClass:"button",attrs:{eventid:"38255d22-23"},on:{tap:t.hideSpec}},[t._v("完成")])])])]),e("view",{staticClass:"swiper-box"},[e("swiper",{attrs:{circular:"true",autoplay:"true",eventid:"38255d22-26"},on:{change:t.swiperChange}},t._l(t.swiperList,function(t,s){return e("swiper-item",{key:t.id,attrs:{mpcomid:"38255d22-0-"+s}},[e("image",{attrs:{src:t.img}})])})),e("view",{staticClass:"indicator"},[t._v(t._s(t.currentSwiper+1)+"/"+t._s(t.swiperList.length))])],1),e("view",{staticClass:"info-box goods-info"},[e("view",{staticClass:"price"},[t._v("￥"+t._s(t.goodsData.price))]),e("view",{staticClass:"title"},[t._v(t._s(t.goodsData.name))])]),e("view",{staticClass:"info-box spec"},[e("view",{staticClass:"row",attrs:{eventid:"38255d22-27"},on:{tap:t.showService}},[e("view",{staticClass:"text"},[t._v("服务")]),e("view",{staticClass:"content"},t._l(t.goodsData.service,function(s,a){return e("view",{key:a,staticClass:"serviceitem"},[t._v(t._s(s.name))])})),t._m(1)]),e("view",{staticClass:"row",attrs:{eventid:"38255d22-28"},on:{tap:function(s){t.showSpec(!1)}}},[e("view",{staticClass:"text"},[t._v("选择")]),e("view",{staticClass:"content"},[e("view",[t._v("选择规格：")]),e("view",{staticClass:"sp"},t._l(t.goodsData.spec,function(s,a){return e("view",{key:a,class:[a==t.selectSpec?"on":""]},[t._v(t._s(s))])}))]),t._m(2)])]),e("view",{staticClass:"info-box comments",attrs:{id:"comments"}},[e("view",{staticClass:"row"},[e("view",{staticClass:"text"},[t._v("商品评价("+t._s(t.goodsData.comment.number)+")")]),e("view",{staticClass:"arrow",attrs:{eventid:"38255d22-30"},on:{tap:t.toRatings}},[e("view",{staticClass:"show",attrs:{eventid:"38255d22-29"},on:{tap:function(s){t.showComments(t.goodsData.id)}}},[t._v("查看全部"),e("view",{staticClass:"icon xiangyou"})])])]),e("view",{staticClass:"comment",attrs:{eventid:"38255d22-31"},on:{tap:t.toRatings}},[e("view",{staticClass:"user-info"},[e("view",{staticClass:"face"},[e("image",{attrs:{src:t.goodsData.comment.userface}})]),e("view",{staticClass:"username"},[t._v(t._s(t.goodsData.comment.username))])]),e("view",{staticClass:"content"},[t._v(t._s(t.goodsData.comment.content))])])]),e("view",{staticClass:"description"},[e("view",{staticClass:"title"},[t._v("———— 商品详情 ————")]),e("view",{staticClass:"content"},[e("rich-text",{attrs:{nodes:t.descriptionStr,mpcomid:"38255d22-1"}})],1)])])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:"list"},[e("view",{staticClass:"box"},[e("image",{attrs:{src:"../../static/img/share/wx.png"}}),e("view",{staticClass:"title"},[t._v("微信好友")])]),e("view",{staticClass:"box"},[e("image",{attrs:{src:"../../static/img/share/pyq.png"}}),e("view",{staticClass:"title"},[t._v("朋友圈")])]),e("view",{staticClass:"box"},[e("image",{attrs:{src:"../../static/img/share/wb.png"}}),e("view",{staticClass:"title"},[t._v("新浪微博")])]),e("view",{staticClass:"box"},[e("image",{attrs:{src:"../../static/img/share/qq.png"}}),e("view",{staticClass:"title"},[t._v("QQ")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:"arrow"},[e("view",{staticClass:"icon xiangyou"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:"arrow"},[e("view",{staticClass:"icon xiangyou"})])}];e.d(s,"a",function(){return a}),e.d(s,"b",function(){return i})}},[["96b2","common/runtime","common/vendor"]]]);