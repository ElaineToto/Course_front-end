(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/order_list/order_list"],{"08c7":function(e,t,i){"use strict";i.r(t);var s=i("c777"),n=i.n(s);for(var a in s)"default"!==a&&function(e){i.d(t,e,function(){return s[e]})}(a);t["default"]=n.a},"45b6":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",[i("view",{staticClass:"topTabBar",style:{position:e.headerPosition,top:e.headerTop}},e._l(e.orderType,function(t,s){return i("view",{key:s,staticClass:"grid",attrs:{eventid:"fa057334-0-"+s},on:{tap:function(t){e.showType(s)}}},[i("view",{staticClass:"text",class:[s==e.tabbarIndex?"on":""]},[e._v(e._s(t))])])})),i("view",{staticClass:"order-list"},[i("view",{staticClass:"list"},[0==e.list.length?i("view",{staticClass:"onorder"},[i("image",{attrs:{src:"../../../static/img/noorder.png"}}),i("view",{staticClass:"text"},[e._v("没有相关订单")])]):e._e(),e._l(e.list,function(t,s){return i("view",{key:s,staticClass:"row"},[i("view",{staticClass:"type"},[e._v(e._s(e.typeText[t.type]))]),i("view",{staticClass:"order-info"},[i("view",{staticClass:"left"},[i("image",{attrs:{src:t.img}})]),i("view",{staticClass:"right"},[i("view",{staticClass:"name"},[e._v(e._s(t.name))]),i("view",{staticClass:"spec"},[e._v(e._s(t.spec))]),i("view",{staticClass:"price-number"},[e._v("￥"),i("view",{staticClass:"price"},[e._v(e._s(t.price))]),e._v("x"),i("view",{staticClass:"number"},[e._v(e._s(t.numner))])])])]),i("view",{staticClass:"detail"},[i("view",{staticClass:"number"},[e._v("共"+e._s(t.numner)+"件商品")]),i("view",{staticClass:"sum"},[e._v("合计￥"),i("view",{staticClass:"price"},[e._v(e._s(t.payment))])]),i("view",{staticClass:"nominal"},[e._v("(含运费 ￥"+e._s(t.freight)+")")])]),i("view",{staticClass:"btns"},["unpaid"==t.type?i("block",[i("view",{staticClass:"default",attrs:{eventid:"fa057334-1-"+s},on:{tap:function(i){e.cancelOrder(t)}}},[e._v("取消订单")]),i("view",{staticClass:"pay",attrs:{eventid:"fa057334-2-"+s},on:{tap:function(i){e.toPayment(t)}}},[e._v("付款")])]):e._e(),"back"==t.type?i("block",[i("view",{staticClass:"default",attrs:{eventid:"fa057334-3-"+s},on:{tap:function(i){e.remindDeliver(t)}}},[e._v("提醒发货")])]):e._e(),"unreceived"==t.type?i("block",[i("view",{staticClass:"default",attrs:{eventid:"fa057334-4-"+s},on:{tap:function(i){e.showLogistics(t)}}},[e._v("查看物流")]),i("view",{staticClass:"pay"},[e._v("确认收货")]),i("view",{staticClass:"pay"},[e._v("我要退货")])]):e._e(),"received"==t.type?i("block",[i("view",{staticClass:"default"},[e._v("评价")]),i("view",{staticClass:"default"},[e._v("再次购买")])]):e._e(),"completed"==t.type?i("block",[i("view",{staticClass:"default"},[e._v("再次购买")])]):e._e(),"refunds"==t.type?i("block",[i("view",{staticClass:"default"},[e._v("查看进度")])]):e._e(),"cancelled"==t.type?i("block",[i("view",{staticClass:"default"},[e._v("已取消")])]):e._e()],1)])})],2)])])},n=[];i.d(t,"a",function(){return s}),i.d(t,"b",function(){return n})},5816:function(e,t,i){"use strict";i.r(t);var s=i("45b6"),n=i("08c7");for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);i("d281");var r=i("2877"),o=Object(r["a"])(n["default"],s["a"],s["b"],!1,null,null,null);t["default"]=o.exports},c530:function(e,t,i){"use strict";i("6123");var s=a(i("b0ce")),n=a(i("5816"));function a(e){return e&&e.__esModule?e:{default:e}}Page((0,s.default)(n.default))},c777:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{headerPosition:"fixed",headerTop:"0px",typeText:{unpaid:"等待付款",back:"等待商家发货",unreceived:"商家已发货",received:"等待用户评价",completed:"交易已完成",refunds:"商品退货处理中",cancelled:"订单已取消"},orderType:["全部","待付款","待发货","待收货","待评价","退换货"],orderList:[[{type:"unpaid",ordersn:0,goods_id:0,img:"/static/img/goods/p1.jpg",name:"商品名称商品名称商品名称商品名称商品名称",price:"168.00",payment:168,freight:12,spec:"规格:S码",numner:1},{type:"unpaid",ordersn:1,goods_id:1,img:"/static/img/goods/p2.jpg",name:"商品名称商品名称商品名称商品名称商品名称",price:"168.00",payment:168,freight:12,spec:"规格:S码",numner:1},{type:"back",ordersn:2,goods_id:1,img:"/static/img/goods/p3.jpg",name:"商品名称商品名称商品名称商品名称商品名称",price:"168.00",payment:168,freight:12,spec:"规格:S码",numner:1},{type:"unreceived",ordersn:3,goods_id:1,img:"/static/img/goods/p4.jpg",name:"商品名称商品名称商品名称商品名称商品名称",price:"168.00",payment:168,freight:12,spec:"规格:S码",numner:1},{type:"received",ordersn:4,goods_id:1,img:"/static/img/goods/p5.jpg",name:"商品名称商品名称商品名称商品名称商品名称",price:"168.00",payment:168,freight:12,spec:"规格:S码",numner:1},{type:"completed",ordersn:5,goods_id:1,img:"/static/img/goods/p6.jpg",name:"商品名称商品名称商品名称商品名称商品名称",price:"168.00",payment:168,freight:12,spec:"规格:S码",numner:1},{type:"refunds",ordersn:6,goods_id:1,img:"/static/img/goods/p5.jpg",name:"商品名称商品名称商品名称商品名称商品名称",price:"￥168",payment:168,freight:12,spec:"规格:S码",numner:1},{type:"cancelled",ordersn:7,goods_id:1,img:"/static/img/goods/p5.jpg",name:"商品名称商品名称商品名称商品名称商品名称",price:"￥168",payment:168,freight:12,spec:"规格:S码",numner:1}],[{type:"unpaid",ordersn:0,goods_id:0,img:"/static/img/goods/p1.jpg",name:"商品名称商品名称商品名称商品名称商品名称",price:"￥168",payment:168,freight:12,spec:"规格:S码",numner:1},{type:"unpaid",ordersn:1,goods_id:1,img:"/static/img/goods/p2.jpg",name:"商品名称商品名称商品名称商品名称商品名称",price:"￥168",payment:168,freight:12,spec:"规格:S码",numner:1}],[],[{type:"unreceived",ordersn:3,goods_id:1,img:"/static/img/goods/p4.jpg",name:"商品名称商品名称商品名称商品名称商品名称",price:"￥168",payment:168,freight:12,spec:"规格:S码",numner:1}],[{type:"received",ordersn:4,goods_id:1,img:"/static/img/goods/p5.jpg",name:"商品名称商品名称商品名称商品名称商品名称",price:"￥168",payment:168,freight:12,spec:"规格:S码",numner:1}],[{type:"refunds",ordersn:6,goods_id:1,img:"/static/img/goods/p5.jpg",name:"商品名称商品名称商品名称商品名称商品名称",price:"￥168",payment:168,freight:12,spec:"规格:S码",numner:1}]],list:[],tabbarIndex:0}},onLoad:function(e){console.log("option: "+JSON.stringify(e));var t=parseInt(e.tbIndex)+1;this.list=this.orderList[t],this.tabbarIndex=t},onPageScroll:function(e){},methods:{showType:function(e){this.tabbarIndex=e,this.list=this.orderList[e]},showLogistics:function(e){},remindDeliver:function(t){e.showToast({title:"已提醒商家发货"})},cancelOrder:function(t){var i=this;e.showModal({title:"取消订单",content:"确定取消此订单？",success:function(e){e.confirm?(console.log("用户点击确定"),i.doCancelOrder(t.ordersn)):e.cancel&&console.log("用户点击取消")}})},doCancelOrder:function(e){for(var t=this.orderList.length,i=0;i<t;i++){var s=this.orderList[i],n=s.length;if(n>0&&"unpaid"==s[0].type)for(var a=0;a<n;a++)if(this.orderList[i][a].ordersn==e){this.orderList[i][a].type="cancelled";break}}},toPayment:function(t){e.showLoading({title:"正在获取订单..."});var i=[];i.push(t),setTimeout(function(){e.setStorage({key:"paymentOrder",data:i,success:function(){e.hideLoading(),e.navigateTo({url:"../../pay/payment/payment?amount="+t.payment})}})},500)}}};t.default=i}).call(this,i("543d")["default"])},d281:function(e,t,i){"use strict";var s=i("da2b"),n=i.n(s);n.a},da2b:function(e,t,i){}},[["c530","common/runtime","common/vendor"]]]);